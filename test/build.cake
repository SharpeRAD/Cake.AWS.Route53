#addin "Cake.AWS.Route53"

//////////////////////////////////////////////////////////////////////
// ARGUMENTS
//////////////////////////////////////////////////////////////////////

var target = Argument("target", "Default");
var configuration = Argument("configuration", "Release");



///////////////////////////////////////////////////////////////////////////////
// TASK DEFINITIONS
///////////////////////////////////////////////////////////////////////////////

Task("Create-Resource-RecordSet")
    .Description("Create or change a DNS record for a hosted zone")
    .Does(() =>
{
    CreateResourceRecordSet("hostedZoneId", "wwww", RRType.A, "192.168.42.123", 3600, new Route53Settings()
    {
        AccessKey = "blah",
        SecretKey = "blah",
        Region = RegionEndpoint.EUWest1
    });
});



//////////////////////////////////////////////////////////////////////
// TASK TARGETS
//////////////////////////////////////////////////////////////////////

Task("Default")
    .IsDependentOn("Create-Resource-RecordSet");



///////////////////////////////////////////////////////////////////////////////
// EXECUTION
///////////////////////////////////////////////////////////////////////////////

RunTarget(target);